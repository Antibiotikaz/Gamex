{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\ernes\\\\Desktop\\\\HomProject\\\\gamex\\\\client\\\\pages\\\\login\\\\index.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport classes from \"./login.module.scss\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport React, { useState } from \"react\";\nimport { login } from \"../../store/Actions/authActions\";\nimport { useRouter } from \"next/router\";\n\nvar Login = function Login() {\n  _s();\n\n  var loggedIn = useSelector(function (state) {\n    var _state$auth, _state$auth$user;\n\n    return (_state$auth = state.auth) === null || _state$auth === void 0 ? void 0 : (_state$auth$user = _state$auth.user) === null || _state$auth$user === void 0 ? void 0 : _state$auth$user.loggedIn;\n  });\n  var dispatch = useDispatch();\n  var router = useRouter();\n\n  var _useState = useState(),\n      email = _useState[0],\n      setEmail = _useState[1];\n\n  var _useState2 = useState(),\n      password = _useState2[0],\n      setPassword = _useState2[1];\n\n  var submit = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(e) {\n      var loginUser;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              e.preventDefault();\n              loginUser = {\n                email: email,\n                password: password\n              };\n              dispatch(login(loginUser));\n\n              if (loggedIn) {\n                router.push(\"/dashboard\");\n              }\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function submit(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return __jsx(\"div\", {\n    className: classes.LoginForm,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 5\n    }\n  }, __jsx(\"form\", {\n    onSubmit: submit,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }\n  }, __jsx(\"h1\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 9\n    }\n  }, \"Login\"), __jsx(\"input\", {\n    onChange: function onChange(e) {\n      return setEmail(e.target.value);\n    },\n    type: \"text\",\n    placeholder: \"Email\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 9\n    }\n  }), __jsx(\"input\", {\n    onChange: function onChange(e) {\n      return setPassword(e.target.value);\n    },\n    type: \"password\",\n    placeholder: \"Password\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }\n  }), __jsx(\"button\", {\n    type: \"submit\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }\n  }, \" \", __jsx(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 11\n    }\n  }, \"Login\"))));\n};\n\n_s(Login, \"a2tKG01NkMClBewvJLhMW1M9F98=\", false, function () {\n  return [useSelector, useDispatch, useRouter];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["C:/Users/ernes/Desktop/HomProject/gamex/client/pages/login/index.js"],"names":["classes","useDispatch","useSelector","React","useState","login","useRouter","Login","loggedIn","state","auth","user","dispatch","router","email","setEmail","password","setPassword","submit","e","preventDefault","loginUser","push","LoginForm","target","value"],"mappings":";;;;;;;;AAAA,OAAOA,OAAP,MAAoB,qBAApB;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,OAAOC,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,KAAT,QAAsB,iCAAtB;AACA,SAASC,SAAT,QAA0B,aAA1B;;AACA,IAAMC,KAAK,GAAG,SAARA,KAAQ,GAAM;AAAA;;AAClB,MAAMC,QAAQ,GAAGN,WAAW,CAAC,UAACO,KAAD;AAAA;;AAAA,0BAAWA,KAAK,CAACC,IAAjB,oEAAW,YAAYC,IAAvB,qDAAW,iBAAkBH,QAA7B;AAAA,GAAD,CAA5B;AACA,MAAMI,QAAQ,GAAGX,WAAW,EAA5B;AACA,MAAMY,MAAM,GAAGP,SAAS,EAAxB;;AAHkB,kBAIQF,QAAQ,EAJhB;AAAA,MAIXU,KAJW;AAAA,MAIJC,QAJI;;AAAA,mBAKcX,QAAQ,EALtB;AAAA,MAKXY,QALW;AAAA,MAKDC,WALC;;AAOlB,MAAMC,MAAM;AAAA,wEAAG,iBAAOC,CAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AACbA,cAAAA,CAAC,CAACC,cAAF;AACMC,cAAAA,SAFO,GAEK;AAChBP,gBAAAA,KAAK,EAALA,KADgB;AAEhBE,gBAAAA,QAAQ,EAARA;AAFgB,eAFL;AAObJ,cAAAA,QAAQ,CAACP,KAAK,CAACgB,SAAD,CAAN,CAAR;;AACA,kBAAIb,QAAJ,EAAc;AACZK,gBAAAA,MAAM,CAACS,IAAP,CAAY,YAAZ;AACD;;AAVY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAANJ,MAAM;AAAA;AAAA;AAAA,KAAZ;;AAaA,SACE;AAAK,IAAA,SAAS,EAAElB,OAAO,CAACuB,SAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAM,IAAA,QAAQ,EAAEL,MAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADF,EAGE;AACE,IAAA,QAAQ,EAAE,kBAACC,CAAD;AAAA,aAAOJ,QAAQ,CAACI,CAAC,CAACK,MAAF,CAASC,KAAV,CAAf;AAAA,KADZ;AAEE,IAAA,IAAI,EAAC,MAFP;AAGE,IAAA,WAAW,EAAC,OAHd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHF,EASE;AACE,IAAA,QAAQ,EAAE,kBAACN,CAAD;AAAA,aAAOF,WAAW,CAACE,CAAC,CAACK,MAAF,CAASC,KAAV,CAAlB;AAAA,KADZ;AAEE,IAAA,IAAI,EAAC,UAFP;AAGE,IAAA,WAAW,EAAC,UAHd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IATF,EAcE;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG,GADH,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAFF,CAdF,CADF,CADF;AAuBD,CA3CD;;GAAMlB,K;UACaL,W,EACAD,W,EACFK,S;;;KAHXC,K;AA6CN,eAAeA,KAAf","sourcesContent":["import classes from \"./login.module.scss\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport React, { useState } from \"react\";\r\nimport { login } from \"../../store/Actions/authActions\";\r\nimport { useRouter } from \"next/router\";\r\nconst Login = () => {\r\n  const loggedIn = useSelector((state) => state.auth?.user?.loggedIn);\r\n  const dispatch = useDispatch();\r\n  const router = useRouter();\r\n  const [email, setEmail] = useState();\r\n  const [password, setPassword] = useState();\r\n\r\n  const submit = async (e) => {\r\n    e.preventDefault();\r\n    const loginUser = {\r\n      email,\r\n      password,\r\n    };\r\n\r\n    dispatch(login(loginUser));\r\n    if (loggedIn) {\r\n      router.push(\"/dashboard\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={classes.LoginForm}>\r\n      <form onSubmit={submit}>\r\n        <h1>Login</h1>\r\n\r\n        <input\r\n          onChange={(e) => setEmail(e.target.value)}\r\n          type=\"text\"\r\n          placeholder=\"Email\"\r\n        ></input>\r\n\r\n        <input\r\n          onChange={(e) => setPassword(e.target.value)}\r\n          type=\"password\"\r\n          placeholder=\"Password\"\r\n        ></input>\r\n        <button type=\"submit\">\r\n          {\" \"}\r\n          <p>Login</p>\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"]},"metadata":{},"sourceType":"module"}